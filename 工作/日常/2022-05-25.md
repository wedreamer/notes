# 2022-05-25

组织结构数据量大加载不出相关分析

1. 排查程序问题
    - 大的组织架构数据获取的问题
        - xiaoju-bff 获取所有节点以及成员的的方式是否合适
        - identity service 对于每个节点以及成员的获取问题排查
    - 数据库查询慢

2. 如果 1 解决不了，考虑加缓存
    - 缓存失效收集
    - 缓存失效更新

xiaoju-bff 获取组织节点下的成员会出现循环查找，identity service 优化相关查询方法

50
- 3.68 4.01

100
- 2.95 3.24

125
- 2.88 3.08

150
- 2.67 2.93

200
- 3.32 3.75

300
- 3.418 3.76

500
- 3.2 3.48

没有 imUser 的影响
100
- 

200
- 1.27 1.52

500
- 1.41 1.65

600
- 1.71 1.98

700
- 1.76 1.99

