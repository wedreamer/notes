# 第十七章 hyperloglog 相关命令的实现

在工作当中，我们经常会遇到与统计相关的功能需求，比如统计网站PV（Page View，页面访问量）或者URL的访问次数，可以使用Redis提供的incr或incrby命令轻松实现，但像UV（Unique Visitor，独立访客）、独立IP数、搜索记录数等需要去重和计数的问题该如何解决呢？我们把这类求集合中不重复元素个数的问题称为基数计数。

解决基数计数有多种方法，简单来说，可以将数据存储在MySQL表中，使用distinct count语句来计算不重复个数，也可以使用Redis提供的hash、set、bitmap等数据结构来处理，而且结果数据都非常精确，但是这些方法都会随着数据的不断增多，而导致占用的空间越来越大，对于非常大的数据集是不切实际的。那么是否能够降低一定的精度来平衡存储空间呢。有一类算法基于概率，仅使用常量和小量的内存来提供集合中唯一元素数量的近似值。


